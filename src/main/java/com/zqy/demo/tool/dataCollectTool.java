package com.zqy.demo.tool;import java.io.IOException;/** * * 执行shell命令 * * **/public class dataCollectTool {    boolean hasException = false;    public int shell(String cmd)    {        int result = 0;//        String[] cmds = { "/bin/sh", "-c", cmd }; linux        String cmds = cmd;        Process process;        try        {            process = Runtime.getRuntime().exec(cmds);            StreamGobblerTool errorGobbler = new StreamGobblerTool(process.getErrorStream(), "Error");            StreamGobblerTool outputGobbler = new StreamGobblerTool(process.getInputStream(), "Output");            errorGobbler.start();            outputGobbler.start();            try            {                process.waitFor();                result = process.exitValue();                process.destroy();                if (errorGobbler.getIsHasException()){                    hasException = true;                }            }            catch (InterruptedException e)            {                hasException = true;                e.printStackTrace();            }            } catch (IOException e) {            hasException = true;            e.printStackTrace();        }        return result;    }    public boolean isHasException() {        return hasException;    }}